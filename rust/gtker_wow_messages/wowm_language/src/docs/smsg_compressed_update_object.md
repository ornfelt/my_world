# SMSG_COMPRESSED_UPDATE_OBJECT

## Client Version 1.12

Compressed version of [SMSG_UPDATE_OBJECT](./smsg_update_object.md). Has the same fields when uncompressed

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm:2`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm#L2).
```rust,ignore
smsg SMSG_COMPRESSED_UPDATE_OBJECT = 0x01F6 {
    u32 amount_of_objects;
    u8 has_transport;
    Object[amount_of_objects] objects;
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 / Big           | uint16 | size   | Size of the rest of the message including the opcode field but not including the size field.|
| 0x02   | 2 / Little        | uint16 | opcode | Opcode that determines which fields the message contains.|

### Body

| Offset | Size / Endianness | Type | Name | Comment |
| ------ | ----------------- | ---- | ---- | ------- |
| 0x04 | 4 / Little | u32 | amount_of_objects |  |
| 0x08 | 1 / - | u8 | has_transport |  |
| 0x09 | ? / - | [Object](object.md)[amount_of_objects] | objects |  |

### Examples

#### Example 1

##### Comment

Most minimal package required to load into the world. Also requires a valid [SMSG_TUTORIAL_FLAGS](./smsg_tutorial_flags.md) and [SMSG_LOGIN_VERIFY_WORLD](./smsg_login_verify_world.md).

```c
0, 137, // size
246, 1, // opcode (502)
60, 1, 0, 0, // uncompressed size
120, 1, 99, 97, 96, 96, 96, 100, 58, 236, 17, 120, 64, 158, 53, 8, 200, 134, 3, 
191, 51, 13, 14, 140, 64, 222, 195, 39, 172, 12, 140, 242, 206, 10, 140, 30, 129, 
32, 185, 3, 242, 138, 64, 18, 194, 110, 176, 63, 206, 205, 192, 160, 1, 228, 131, 
20, 242, 3, 113, 10, 16, 51, 29, 47, 217, 192, 132, 110, 218, 81, 225, 147, 246, 
40, 166, 1, 213, 0, 213, 66, 76, 131, 176, 113, 153, 198, 222, 130, 97, 218, 231, 
154, 9, 168, 110, 3, 170, 129, 155, 6, 97, 55, 216, 95, 199, 234, 182, 192, 45, 
24, 166, 45, 157, 177, 21, 213, 109, 64, 53, 112, 211, 32, 108, 236, 110, 3, 0, 
54, 76, 48, 33, // compressed data
```
## Client Version 2.4.3

Compressed version of [SMSG_UPDATE_OBJECT](./smsg_update_object.md). Has the same fields when uncompressed

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm:2`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm#L2).
```rust,ignore
smsg SMSG_COMPRESSED_UPDATE_OBJECT = 0x01F6 {
    u32 amount_of_objects;
    u8 has_transport;
    Object[amount_of_objects] objects;
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 / Big           | uint16 | size   | Size of the rest of the message including the opcode field but not including the size field.|
| 0x02   | 2 / Little        | uint16 | opcode | Opcode that determines which fields the message contains.|

### Body

| Offset | Size / Endianness | Type | Name | Comment |
| ------ | ----------------- | ---- | ---- | ------- |
| 0x04 | 4 / Little | u32 | amount_of_objects |  |
| 0x08 | 1 / - | u8 | has_transport |  |
| 0x09 | ? / - | [Object](object.md)[amount_of_objects] | objects |  |

## Client Version 3.3.5

Compressed version of [SMSG_UPDATE_OBJECT](./smsg_update_object.md). Has the same fields when uncompressed

### Wowm Representation

Autogenerated from `wowm` file at [`wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm:12`](https://github.com/gtker/wow_messages/tree/main/wow_message_parser/wowm/world/gameobject/smsg_update_compressed_object.wowm#L12).
```rust,ignore
smsg SMSG_COMPRESSED_UPDATE_OBJECT = 0x01F6 {
    u32 amount_of_objects;
    Object[amount_of_objects] objects;
}
```
### Header

SMSG have a header of 4 bytes.

#### SMSG Header

| Offset | Size / Endianness | Type   | Name   | Description |
| ------ | ----------------- | ------ | ------ | ----------- |
| 0x00   | 2 **OR** 3 / Big           | uint16 **OR** uint16+uint8 | size | Size of the rest of the message including the opcode field but not including the size field. Wrath server messages **can** be 3 bytes. If the first (most significant) size byte has `0x80` set, the header will be 3 bytes, otherwise it is 2.|
| -      | 2 / Little| uint16 | opcode | Opcode that determines which fields the message contains. |

### Body

| Offset | Size / Endianness | Type | Name | Comment |
| ------ | ----------------- | ---- | ---- | ------- |
| - | 4 / Little | u32 | amount_of_objects |  |
| - | ? / - | [Object](object.md)[amount_of_objects] | objects |  |

